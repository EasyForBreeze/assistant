@page
@model Assistant.Pages.Clients.SearchModel
@{
    ViewData["Title"] = "Поиск клиентов";
}

<div class="clients-stage">
    <div class="clients-surface">
        <div class="clients-toolbar">
            <div class="clients-heading">
                <h3 class="clients-title">Поиск клиентов</h3>
                <p class="clients-subtitle">Выполните поиск по всем реалмам Keycloak. Результаты фильтруются по введённому clientId.</p>
            </div>

            <div class="clients-actions">
                <form method="get" class="clients-search clients-search--wide" aria-label="Поиск по всем реалмам">
                    <svg xmlns="http://www.w3.org/2000/svg" class="clients-search__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8" />
                        <path d="m21 21-4.3-4.3" />
                    </svg>
                    <input name="q" value="@Model.Q" placeholder="Search all realms..." class="clients-search__input" />
                    <button type="submit" class="clients-search__submit">Найти</button>
                </form>
                <a asp-page="/Clients/Create" class="btn-primary clients-create whitespace-nowrap">
                    Создать клиента
                </a>
            </div>
        </div>

        @if (string.IsNullOrEmpty(Model.Q))
        {
            <div class="clients-info clients-info--muted">
                Введите идентификатор клиента, чтобы получить результаты поиска по всем доступным реалмам.
            </div>
        }

        <div id="clientsContainer">
            @await Html.PartialAsync("_ClientsList", Model)
        </div>
    </div>
</div>
