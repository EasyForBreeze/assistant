using System;

namespace Assistant.Services;

public sealed class ConfluenceTemplateProvider
{
    private readonly Lazy<TemplatePayload> _template = new(LoadTemplate);

    public TemplatePayload Template => _template.Value;

    private static TemplatePayload LoadTemplate()
        => new TemplatePayload(TemplateTitle, TemplateBody);

    private const string TemplateTitle = "INT-BNK. ClientID";

    private const string TemplateBody = """
<h2 class="auto-cursor-target">Общая информация</h2><ac:structured-macro ac:name="details" ac:schema-version="1" ac:macro-id="603005b4-1bd4-4dd8-87c7-1a038c368d0f"><ac:rich-text-body><p class="auto-cursor-target"><br /></p><table class="wrapped relative-table" style="width: 100.0%;"><colgroup><col style="width: 15.8659%;" /><col style="width: 84.1341%;" /></colgroup><tbody><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Банк/ДОМ</span></th><td>Банк</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Информационная система</span></th>{{INFO_SYSTEM_CELL}}</tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Realm (Пространство)</span></th>{{REALM_CELL}}</tr><tr><th style="text-align: left;"><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Client ID (ID клиента)</span></th><td style="text-align: left;">{{CLIENT_ID}}</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Name (Имя)</span></th><td>{{CLIENT_NAME}}</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Access Type (Тип доступа)</span></th><td>{{ACCESS_TYPE}}</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Status (Статус)</span></th><td>{{CLIENT_STATUS}}</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Бизнес владелец</span></th>{{SERVICE_OWNER_CELL}}</tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Менеджер поддержки</span></th>{{SERVICE_MANAGER_CELL}}</tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Уровень критичности ИС</span></th><td><span style="color:var(--ds-text-accent-blue-bolder,#09326c);">BC</span></td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Заявка FTEST</span></th><td></td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Заявка PrePROD</span></th><td></td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Заявка PROD</span></th><td></td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Статус публикации</span></th><td><div class="content-wrapper"><p>TEST</p></div></td></tr></tbody></table></ac:rich-text-body></ac:structured-macro><h2 class="auto-cursor-target"><span>Конфигурация клиента</span></h2><table class="relative-table wrapped" style="width: 99.0228%;"><colgroup><col style="width: 16.7215%;" /><col style="width: 83.2785%;" /></colgroup><tbody><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Description (Описание)</span></th><td>{{DESCRIPTION}}</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Enabled (Включено)</span></th><td>enabled</td></tr><tr><th style="text-align: left;"><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Client Scopes</span></th><td style="text-align: left;"><em><span style="color:var(--ds-text-accent-blue-bolder,#09326c);">email, profile, roles</span></em></td></tr><tr><th style="text-align: left;"><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Full Scope Allowed</span></th><td style="text-align: left;"><span style="color:var(--ds-text-accent-blue-bolder,#09326c);">On</span></td></tr><tr><th style="text-align: left;"><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Standart flow</span></th><td style="text-align: left;">{{STANDARD_FLOW}}</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Implicit Flow</span></th><td><span style="color:var(--ds-text-accent-blue-bolder,#09326c);">Off</span></td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Direct Access Grants </span></th><td>{{DIRECT_ACCESS_GRANTS}}</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Service Accounts</span></th><td>{{SERVICE_ACCOUNTS}}</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">OAuth 2.0 Device Authorization Grant</span></th><td>{{DEVICE_AUTHORIZATION}}</td></tr><tr><th style="text-align: left;"><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);"><strong style="text-align: left;">Valid Redirect URIs</strong></span></th><td style="text-align: left;">{{REDIRECT_TABLE}}<p class="auto-cursor-target"><br /></p></td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Valid post logout redirect URIs</span></th><td>+</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Web Origins</span></th><td>+</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Access Token Lifespan</span></th><td>5 min</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Client Session Idle</span></th><td>30 min</td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Client Roles (Роль клиента)</span></th><td>{{LOCAL_ROLES_TABLE}}<p class="auto-cursor-target"><br /></p></td></tr><tr><th><span style="color:var(--ds-background-accent-lime-bolder,#5b7f24);">Service Account Role</span></th><td>{{SERVICE_ROLES_TABLE}}<p class="auto-cursor-target"><br /></p></td></tr></tbody></table>
""";

    public sealed record TemplatePayload(string Title, string Body);
}
